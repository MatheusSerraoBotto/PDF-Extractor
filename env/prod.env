# ==============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env.production and update with your production values
# NEVER commit .env.production to version control
#
# For AWS deployment, most of these should be stored in:
# - AWS Secrets Manager (sensitive values like API keys)
# - AWS Systems Manager Parameter Store (configuration)
# - ECS Task Definition environment variables (non-sensitive config)
# ==============================================================================

# ------------------------------------------------------------------------------
# Application Environment
# ------------------------------------------------------------------------------
ENV=production
DEBUG=false
TESTING=false
LOG_LEVEL=INFO

# ------------------------------------------------------------------------------
# Python Environment
# ------------------------------------------------------------------------------
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
WORKERS=4
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=300

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# Comma-separated list of allowed origins
# Example: https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=https://yourdomain.com

# ------------------------------------------------------------------------------
# Redis Configuration (AWS ElastiCache)
# ------------------------------------------------------------------------------
# For AWS ElastiCache, use the cluster endpoint
REDIS_HOST=redis aws host here
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_MAX_CONNECTIONS=20
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ------------------------------------------------------------------------------
# OpenAI Configuration
# ------------------------------------------------------------------------------
# Store this in AWS Secrets Manager, not in environment variables!
OPENAI_API_KEY=<from-secrets-manager>
LLM_MODEL=gpt-5-mini
LLM_MAX_OUTPUT_TOKENS=800
LLM_MAX_LAYOUT_LINES=150
OPENAI_TIMEOUT=60
OPENAI_MAX_RETRIES=3

# ------------------------------------------------------------------------------
# File Configuration
# ------------------------------------------------------------------------------
# For ECS/EKS, use /tmp or mounted EFS volume
PDF_BASE_PATH=/tmp/pdfs

# ------------------------------------------------------------------------------
# Debugging (Production: Disabled)
# ------------------------------------------------------------------------------
ENABLE_DEBUGPY=0

# ------------------------------------------------------------------------------
# AWS Configuration
# ------------------------------------------------------------------------------
AWS_REGION=sa-east-1
AWS_DEFAULT_REGION=sa-east-1
SECRETS_MANAGER_NAME=pdf-extraction/production

# ------------------------------------------------------------------------------
# Security
# ------------------------------------------------------------------------------
API_KEY_HEADER=X-API-Key
RATE_LIMIT_PER_MINUTE=60